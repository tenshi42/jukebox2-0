module.exports = function() { 
    this.treat = function(a) {
		var ret = "";
		
		if(a.substring(0,1) == "D"){
			var val = 0;
			if(Number.isInteger(parseInt(a.substring(1)))){
				val = Math.floor((Math.random() * parseInt(a.substring(1))) + 1);
				ret = '{"type":"message", "who":"server", "text":"' + val + '", "id":-1, "date":' + Date.now() + '}';
			}
			else
				ret = '{"type":"message", "who":"server", "text":"Commande inconnue.", "id":-1, "date":' + Date.now() + '}';
		}
		else if(a.substring(0,1) == "P"){
			ret = '{"type":"message", "who":"server", "text":"Voila", "id":-1, "date":' + Date.now() + '}';
		}
		else if(a.substring(0,1) == "T"){
			ret = '{"type":"message", "who":"server", "text":"Voila putain !!!", "id":-1, "date":' + Date.now() + '}';
		}
		else if(a == "cls"){
			ret = "cls";
		}
		else
			ret = '{"type":"message", "who":"server", "text":"Commande inconnue", "id":-1, "date":' + Date.now() + '}';
		
		return ret;
	};
	// console.log("export");
}